uniform mat4 camera_mat;
uniform mat4 light_mat;
uniform mat4 modelview_mat;
uniform sampler2D tex;

varying vec3 normal, lightDir, eyeVec;
varying vec4 ShadowCoord;



void main()
{	
	normal = vec3(modelview_mat * vec4(gl_Normal,0.0));

	vec3 vVertex = vec3(modelview_mat * gl_Vertex);

	vec3 light_position=vec3(-10,-10,20);
	lightDir = vec3(light_position - vVertex);
	eyeVec = -vVertex;

	vec4 vertex_after_modelview= modelview_mat * gl_Vertex;

	gl_Position = camera_mat * vertex_after_modelview;
	gl_TexCoord[0] = gl_MultiTexCoord0;
	
	ShadowCoord = light_mat * vertex_after_modelview;
}
